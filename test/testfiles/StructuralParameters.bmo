// SPDX-License-Identifier: MIT
// Copyright (c) 2025 Joris Gillis, YACODA

//! base 0.1.0
package 'StructuralParameters'
  model 'StructuralParameters' "Test model with structural parameters"
    parameter Integer 'n'(min = 1) = 3 "Array size" annotation(Evaluate = true);
    parameter Boolean 'useAdvanced' = false "Enable advanced features" annotation(Evaluate = true);
    parameter Real 'gain' = 1.0 "Gain factor";

    Real 'x'['n'](fixed = true, start = 0.0) "State vector";
    Real 'y' "Output";

  equation
    der('x'[1]) = -'gain' * 'x'[1] + 'x'[2];
    der('x'[2]) = 'x'[1] - 2.0 * 'x'[2] + 'x'[3];
    der('x'[3]) = 'x'[2] - 'gain' * 'x'[3];
    'y' = 'x'[1] + 'x'[2] + 'x'[3];

  end 'StructuralParameters';
end 'StructuralParameters';
