//! base 0.1.0
package 'GlobalConst'
  constant Real 'PI' = 3.14159265;
  constant Real 'E' = 2.71828;

  model 'GlobalConst' "Using global constants"
    Real 'x'(start = 0.0);
    Real 'sine_wave';
    Real 'exp_decay';
  equation
    der('x') = 1.0;
    'sine_wave' = sin(2.0 * 'PI' * 'x');
    'exp_decay' = 'E' ^ (-'x');
  end 'GlobalConst';
end 'GlobalConst';

// @onnx-test-reference
// Python reference implementation for ONNX runtime testing
// def reference_implementation(inputs):
//     """
//     Compute expected outputs for GlobalConst.
//
//     Equations:
//       der(x) = 1.0
//       sine_wave = sin(2.0 * PI * x)
//       exp_decay = E ^ (-x)
//
//     Global constants:
//       PI = 3.14159265
//       E = 2.71828
//     """
//     import numpy as np
//
//     outputs = {}
//
//     # Global constants
//     PI = 3.14159265
//     E = 2.71828
//
//     # Extract inputs (already numpy scalars)
//     x = inputs['x']
//     der_x = inputs["der('x')"]
//     sine_wave = inputs['sine_wave']
//     exp_decay = inputs['exp_decay']
//
//     # Compute equation residuals
//     outputs['eq[0]'] = der_x - 1.0
//     outputs['eq[1]'] = sine_wave - np.sin(2.0 * PI * x)
//     outputs['eq[2]'] = exp_decay - (E ** (-x))
//
//     # Initial value
//     outputs['start[0]'] = np.array(0.0)
//
//     return outputs
//
// @onnx-test-case
// # Test case 1: At x=0 (initial state)
// import numpy as np
// PI = 3.14159265
// E = 2.71828
// x = 0.0
// der_x = 1.0
// sine_wave = np.sin(2.0 * PI * x)
// exp_decay = E ** (-x)
// {
//   "x": np.array(x),
//   "der('x')": np.array(der_x),
//   "sine_wave": np.array(sine_wave),
//   "exp_decay": np.array(exp_decay)
// }
//
// @onnx-test-case
// # Test case 2: At x=0.25 (quarter period for sine)
// import numpy as np
// PI = 3.14159265
// E = 2.71828
// x = 0.25
// der_x = 1.0
// sine_wave = np.sin(2.0 * PI * x)
// exp_decay = E ** (-x)
// {
//   "x": np.array(x),
//   "der('x')": np.array(der_x),
//   "sine_wave": np.array(sine_wave),
//   "exp_decay": np.array(exp_decay)
// }
//
// @onnx-test-case
// # Test case 3: Random value (seed 42)
// import numpy as np
// rng = np.random.RandomState(42)
// PI = 3.14159265
// E = 2.71828
// x = rng.uniform(0.0, 2.0)
// der_x = 1.0
// sine_wave = np.sin(2.0 * PI * x)
// exp_decay = E ** (-x)
// {
//   "x": np.array(x),
//   "der('x')": np.array(der_x),
//   "sine_wave": np.array(sine_wave),
//   "exp_decay": np.array(exp_decay)
// }
